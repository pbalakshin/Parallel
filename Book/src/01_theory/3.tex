\subsection{Классификация параллельных систем (архитектур)}
\label{subsec:architecture-classification}

По физической архитектуре параллельные системы можно разделить на два типа:

\begin{enumerate}
    \item\textbf{SMP} (Shared Memory Parallelism, Symmetric MultiProcessor system) -- многопроцессорность, многоядерность, GPGPU\@. 
    \item\textbf{MPP} (Massively Parallel Processing) -- кластерные системы, GRID (распределенные вычисления).
\end{enumerate}

Далее рассмотрим эти две архитектуры подробнее.

\textbf{\textit{SMP}} -- архитектура многопроцессорных систем, в которой два или более одинаковых процессора сравнимой производительности подключаются единообразно к общей памяти (и периферийным устройствам) и выполняют одни и те же функции (почему, собственно, система и называется симметричной).
В английском языке SMP-системы носят также название tightly coupled multiprocessors, так как в этом классе систем процессоры тесно связаны друг с другом через общую шину, имеют равный доступ ко всем ресурсам вычислительной системы (памяти и устройствам ввода-вывода) и управляются лишь одним экземпляром операционной системы~\cite{SymmetricMultiprocessingWP}.
В этой архитектуре все процессоры расположены на одной физической машине, поэтому они имеют общие банки памяти.
Существует два вида подключения процессоров к общей памяти.

\textit{Соединение по общей шине (system bus)} изображено на рисунке~\ref{fig:smp_system_bus}.
В этом случае только один процессор может обращаться к памяти в каждый данный момент, что накладывает существенное ограничение на количество процессоров, поддерживаемых в таких системах.
Чем больше процессоров, тем больше нагрузка на общую шину, тем дольше должен ждать каждый процессор, пока освободится шина, чтобы обратиться к памяти.
Снижение общей производительности такой системы с ростом количества процессоров происходит очень быстро, поэтому обычно в таких системах количество процессоров не превышает 2--4.
Примером SMP-машин с таким способом соединения процессоров являются любые многопроцессорные серверы начального уровня~\cite{Martyshkin2014}.

\begin{figure}[H]
    \centering
    \includegraphics[width=0.9\linewidth]{smp_system_bus}
    \caption{Архитектура SMP. Подключение процессоров по системной шине}
    \label{fig:smp_system_bus}
\end{figure}

\textit{Коммутируемое соединение (crossbar switch)} изображено на рисунке~\ref{fig:smp-crossbar-switch}.
При таком соединении вся общая память делится на банки памяти, каждый банк памяти имеет свою собственную шину, и процессоры соединены со всеми шинами, имея доступ по ним к любому из банков памяти.
Такое соединение схемотехнически более сложное, но оно позволяет процессорам обращаться к общей памяти одновременно.
Это позволяет увеличить количество процессоров в системе до 8--16 без заметного снижения общей производительности~\cite{Ryazanova2018}.

Плюсами такого подхода является высокая скорость обмена данными между процессорами и относительная простота в разработке ПО.
Однако могут возникнуть проблемы с масштабируемостью системы (если на материнской плате есть только два сокета, то три процессора уже не поставить).

\begin{figure}[H]
    \centering
    \includegraphics[width=\linewidth]{smp_crossbar_switch}
    \caption{Архитектура SMP. Подключение процессоров через коммутируемое соединение}
    \label{fig:smp-crossbar-switch}
\end{figure}

\textbf{\textit{MMP}} -- архитектура многопроцессорных систем, при которой память между процессорами разделена физически.
На таких системах проводятся распределенные вычисления.
Система строится из отдельных узлов, содержащих процессор, локальный банк оперативной памяти, коммуникационные процессоры или сетевые адаптеры, иногда - жёсткие диски и другие устройства ввода-вывода.
Доступ к банку оперативной памяти данного узла имеют только процессоры из этого же узла.
Узлы соединяются специальными коммуникационными каналами (рисунок~\ref{fig:mmp}).

\begin{figure}[H]
    \centering
    \includegraphics[width=0.9\linewidth]{mmp}
    \caption{Архитектура MMP}
    \label{fig:mmp}
\end{figure}

Плюсами такого подхода является хорошая масштабируемость (при необходимости в увеличении производительности системы достаточно просто добавить еще узлов).
Однако существенно понижается скорость межпроцессорного обмена, так как теперь банки памяти разнесены физически.
Также стоимость ПО, распределяющее вычисления, очень высока.
